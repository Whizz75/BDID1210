<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sales Records</title>
  <link rel="icon" type="image/png" href="images/logo.png" />
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      background-color: #f9f9f9;
      color: #333;
    }
    header {
      background-color: #257db3;
      padding: 1rem 2rem;
      color: white;
      font-size: 1.5rem;
      font-weight: bold;
    }
    .container {
      padding: 2rem;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }
    th, td {
      text-align: left;
      padding: 12px;
      border-bottom: 1px solid #ddd;
    }
    th {
      background-color: #257db3;
      color: white;
    }
    tr:hover {
      background-color: #1a5d87;
    }
  </style>
</head>

<body>
  <header>Sales Records</header>
  <div class="container">
    <table>
      <thead>
        <tr>
          <th>Sales ID</th>
          <th>Customer Name</th>
          <th>Employee Name</th>
          <th>Product Name</th>
          <th>Date of Purchase</th>
          <th>Total Amount</th>
        </tr>
      </thead>
      <tbody id="salesData"></tbody>
    </table>
  </div>

  <script>
    fetch('https://flask-on-render-17g8.onrender.com/sales')  
      .then(response => response.json())
      .then(data => {
        const tbody = document.getElementById('salesData');
        data.forEach(row => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
            <td>${row.salesid}</td>
            <td>${row.customerfirstname}</td>
            <td>${row.employeefirstname}</td>
            <td>${row.productname, row.brandname}</td>
            <td>${new Date(row.sales_date).toLocaleDateString()}</td>
            <td>M ${parseFloat(row.totalamount).toFixed(2)}</td>
          `;
          tbody.appendChild(tr);
        });
      })
      .catch(error => console.error('Error loading sales data:', error));
  </script>
</body>
</html>
